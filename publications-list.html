---
layout: default
title: Publications
---

<div class="container">
  <header class="blog-header">
    <h1>Publications</h1>
    <p class="blog-description">Research in vision-language, evaluation metrics, and multimodal learning</p>
    <nav class="site-nav">
      <a href="{{ site.baseurl }}/">Home</a>
      <a href="{{ site.baseurl }}/publications-list.html" class="active">Publications</a>
      <a href="{{ site.baseurl }}/blog.html">Blog</a>
    </nav>
  </header>

  <section class="section">
    <h2>International Conferences ğŸŒ</h2>
    <div class="publications" id="international-publications"></div>
  </section>

  <section class="section">
    <h2>Domestic Conferences ğŸ‡¯ğŸ‡µ</h2>
    <div class="publications" id="domestic-publications"></div>
  </section>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    // å›½éš›ä¼šè­°ã¨å›½å†…ä¼šè­°ã®æŠ•ç¨¿ã‚³ãƒ³ãƒ†ãƒŠã‚’å–å¾—
    const internationalContainer = document.getElementById("international-publications");
    const domesticContainer = document.getElementById("domestic-publications");

    // publications/index.jsonã‚’èª­ã¿è¾¼ã‚€
    loadPublications();

    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœã®é©ç”¨
    handleScrollAnimations();
    window.addEventListener("scroll", handleScrollAnimations);
    setTimeout(handleScrollAnimations, 300);
  });

  // è«–æ–‡æƒ…å ±ã‚’èª­ã¿è¾¼ã¿ã€è¡¨ç¤ºã™ã‚‹é–¢æ•°
  function loadPublications() {
    const internationalContainer = document.getElementById("international-publications");
    const domesticContainer = document.getElementById("domestic-publications");

    fetch("{{ site.baseurl }}/publications/index.json")
      .then((res) => res.json())
      .then((publicationsList) => {
        // å„è«–æ–‡ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†
        publicationsList.forEach((pubId) => {
          fetch(`{{ site.baseurl }}/publications/${pubId}.md`)
            .then((res) => {
              if (!res.ok) throw new Error(`Failed to load ${pubId}`);
              return res.text();
            })
            .then((data) => {
              // YAMLãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚’è§£æ
              const yamlMatch = data.match(/^---([\s\S]*?)---\s*([\s\S]*)$/);
              if (!yamlMatch) return;
              
              const yamlText = yamlMatch[1];
              const meta = jsyaml.load(yamlText);
              
              // typeã‚’ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‹ã‚‰å–å¾—
              const pubType = meta.type; // "international" ã¾ãŸã¯ "domestic"
              
              const pubCard = document.createElement("div");
              pubCard.className = "pub-card";
              pubCard.style.opacity = "0";
              pubCard.style.transform = "translateY(20px)";
              pubCard.style.transition = "opacity 0.5s ease, transform 0.5s ease";

              pubCard.innerHTML = `
                <a href="{{ site.baseurl }}/publication.html?pub=${pubId}" class="pub-title">${meta.title}</a>
                <div class="pub-venue">${meta.venue}</div>
                <p>${meta.description}</p>
                <div class="pub-links">
                  ${meta.pdf_link ? `<a href="${meta.pdf_link}" target="_blank">PDF</a>` : ""}
                  ${meta.code_link ? `<a href="${meta.code_link}" target="_blank">Code</a>` : ""}
                  <button class="copy-bibtex-btn" data-bibtex="${encodeURIComponent(meta.bibtex)}">Copy BibTeX</button>
                </div>
              `;

              // typeã«åŸºã¥ã„ã¦é©åˆ‡ãªã‚³ãƒ³ãƒ†ãƒŠã«è¿½åŠ 
              if (pubType === "international" && internationalContainer) {
                internationalContainer.appendChild(pubCard);
              } else if (pubType === "domestic" && domesticContainer) {
                domesticContainer.appendChild(pubCard);
              }

              // BibTexã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠã‚’è¿½åŠ 
              pubCard.querySelector(".copy-bibtex-btn").addEventListener("click", function() {
                const bibtex = decodeURIComponent(this.getAttribute("data-bibtex"));
                navigator.clipboard.writeText(bibtex)
                  .then(() => {
                    alert("BibTeX copied!");
                  });
              });

              // è¿½åŠ ã—ãŸã‚‰ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†ã‚’å‘¼ã³å‡ºã—
              handleScrollAnimations();
            })
            .catch((error) => console.error(`è«–æ–‡èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: ${error}`));
        });
      })
      .catch((error) => {
        console.error(`index.jsonèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: ${error}`);
      });
  }

  // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨é–¢æ•°
  function isInViewport(element) {
    const rect = element.getBoundingClientRect();
    return (
      rect.top >= 0 &&
      rect.left >= 0 &&
      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
      rect.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
  }

  function handleScrollAnimations() {
    document
      .querySelectorAll(".pub-card")
      .forEach((el) => {
        if (isInViewport(el)) {
          el.style.opacity = "1";
          el.style.transform = "translateY(0)";
        }
      });
  }
</script>